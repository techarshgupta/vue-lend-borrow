import{m as v,q as g,n as p,o as i,c as u,f as e,s as f,v as w,a as x,e as k,F as z,t as D,x as y,k as S,y as r,z as V,g as C}from"./index.251ec9bc.js";const A={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},T={class:"py-4 flex items-center justify-between"},N=e("label",{for:"table-search",class:"sr-only"},"Search",-1),B={class:"relative mt-1"},M=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),U={class:"pr-2"},L={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},P=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"User"),e("th",{scope:"col",class:"px-6 py-3"},"Type"),e("th",{scope:"col",class:"px-6 py-3"},"Date"),e("th",{scope:"col",class:"px-6 py-3"},"Amount"),e("th",{scope:"col",class:"px-6 py-3"},"Reason"),e("th",{scope:"col",class:"px-6 py-3"},"Status"),e("th",{scope:"col",class:"px-6 py-3"},"Action")])],-1),$={scope:"row",class:"px-6 py-4 font-medium text-gray-900 dark:text-white whitespace-nowrap capitalize"},j={class:"px-6 py-4 capitalize"},F={class:"px-6 py-4 capitalize"},I={class:"px-6 py-4 capitalize"},O={class:"pr-0.5"},q={class:"px-6 py-4 capitalize"},E={class:"px-6 py-4 capitalize"},R={class:"px-6 py-4 capitalize"},Y={key:0,class:"w-full text-center bg-white border-b dark:bg-gray-800 dark:border-gray-700 text-gray-600 dark:text-gray-400"},G=e("td",{class:"py-10",colspan:"7"},"No items found",-1),H=[G],W={name:"settleView",setup(J){const n=v(),h=g(()=>n.getCurrency),c=p(null),m=g(()=>{var s,t;let a;return c.value?a=n.getTransactions.filter(l=>Object.values(l).some(o=>String(o).toLowerCase().includes(c.value))):a=n.getTransactions,((s=d.value)==null?void 0:s.value)==="amount"?a.sort((l,o)=>parseInt(o.amount,10)-parseInt(l.amount,10)):((t=d.value)==null?void 0:t.value)==="date"?a.sort((l,o)=>new Date(o.date)-new Date(l.date)):a}),_=a=>{if(confirm("Are you sure you want to settle your borrow!")==!0){console.log(a);const t={type:"credit",title:"You settled amount",amount:a.amount,date:new Date().toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"})};n.addActivity(t),n.settlePay(a.id)}},d=p({label:"Date",value:"date"}),b=p([{label:"Date",value:"date"},{label:"Amount",value:"amount"}]);return(a,s)=>(i(),u("div",A,[e("div",T,[e("div",null,[N,e("div",B,[M,f(e("input",{type:"text",id:"table-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 block w-80 pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-teal-500 dark:focus:border-teal-500",placeholder:"Search for items","onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t)},null,512),[[w,c.value]])])]),e("div",U,[x(k,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t),options:b.value,name:"currency",autocomplete:"currency",h:"min-content"},null,8,["modelValue","options"])])]),e("table",L,[P,e("tbody",null,[(i(!0),u(z,null,D(y(m),(t,l)=>{var o;return i(),u("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",key:l},[e("th",$,r(t.user),1),e("td",j,r((o=t.type)==null?void 0:o.label),1),e("td",F,r(t.date),1),e("td",I,[e("span",O,r(y(h).icon),1),V(" "+r(t.amount),1)]),e("td",q,r(t.reason),1),e("td",E,r(t.status),1),e("td",R,[x(C,{disabled:t.status==="paid",type:"submit",color:"info",outline:"",label:"Pay",class:"px-6",onClick:K=>_(t)},null,8,["disabled","onClick"])])])}),128)),y(m).length===0?(i(),u("tr",Y,H)):S("",!0)])])]))}};export{W as default};
